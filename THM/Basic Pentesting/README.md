# Writeup di Basic Pentesting di TryHackMe

## [Link alla macchina](https://tryhackme.com/room/basicpentestingjt)

### Enumeration
Iniziamo facendo uno scan della macchina e come servizi aperti troviamo ssh, http e samba/SMB.

### Exploitation
### HTTP
Analizzando la pagina web non troviamo nulla di sospetto. Se guardiamo però il codice sorgente vediamo un commento che ci suggerisce di leggere le note lasciate dal dev.
Quindi proviamo a fare uno scan con gobuster per eventuali directory/pagine a noi ancora sconosciute e ci salta all'occhio la directory /development. Accedendoci troviamo le note lasciate dal dev e un messaggio per un certo "J" che dice che la sua password è facile da trovare.

### SMB
Non sapendo come muovermi a questo punto e seguendo un po' le domande poste da TryHackMe, mi informo sul web riguardo alla username enumeration sul servizio di samba/SMB. Trovo il tool enum4linux che permette di fare uno scan di questo servizio e riesco a recuperare i due username locali jan e kay. Siccome la nota parlava di un certo "J", immagino che l'utente con cui dobbiamo accedere inizialmente sia jan.
Utilizzando hydra facciamo il bruteforce della password di JAN sul servizio SSH. Una volta trovata, facciamo il login.

### SSH
Possiamo sia accedere alla home di jan, sia a quella di kay. Analizzando un po' le varie directory, nella home di kay troviamo un file pass.bak che potrebbe essere un qualche tipo di file di backup contenente magari qualche password.

### Privilege Escalation
Proviamo ad utilizzare il comando sudo -l ma non ne abbiamo i permessi. Allora tramite find vado a cercare i file che hanno il setuid impostato e ne risalta uno subito che è vim.basic. Quindi possiamo runnare vim.basic come sudo e possiamo usarlo per leggere il file pass.bak.

Leggendo il file riusciamo a rispondere all'ultima domanda che ci chiede la password per l'utente kay.

MACCHINA COMPLETATA
